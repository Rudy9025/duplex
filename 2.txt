public class MainApplication {
    public static void main(String[] args) {
        // Disable AWS SDK SSL certificate validation (‚ö†Ô∏è for testing only)
        System.setProperty("com.amazonaws.sdk.disableCertChecking", "true");

        SpringApplication.run(MainApplication.class, args);
    }
}






@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)
public ResponseEntity<Map<String, String>> upload(@RequestPart("file") MultipartFile file) {
    try {
        System.out.println("Received file: " + file.getOriginalFilename());

        String key = s3Service.uploadFile(file); // üî• likely failing here
        String url = s3Service.generatePresignedUrl(key);

        Map<String, String> response = new HashMap<>();
        response.put("message", "Upload successful");
        response.put("url", url);
        return ResponseEntity.ok(response);
    } catch (Exception e) {
        // Print full stack trace for debugging
        e.printStackTrace();

        // Return the error to frontend
        Map<String, String> error = new HashMap<>();
        error.put("error", "Upload failed: " + e.getMessage());
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(error);
    }
}
