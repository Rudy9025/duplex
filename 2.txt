Thanks for sharing the details. Here’s how you can pass the selected column names (selectedCol1 and selectedCol2) from the frontend to the backend and use them in the ReconciliationService instead of hardcoded "Agreement_name" and "CRDS Party Code".

⸻

1. Frontend (Angular) Changes

Ensure that you are sending selectedCol1 and selectedCol2 from the Angular component:

match.component.ts

Update the compareColumns() method:

compareColumns() {
  this.data = {
    selectedCol1: this.selectedCol1,
    selectedCol2: this.selectedCol2
  };
  
  this.oneToOneService.oneToOne(this.data).subscribe({
    next: (res) => {
      console.log("Posted successfully", res);
    },
    error: (e) => {
      console.log(e, "error");
    }
  });
}

match.service.ts

This part is already correct:

oneToOne(data: any): Observable<any> {
  return this.http.post(this.apiUrl, data);
}



⸻

2. Backend (Spring Boot) Changes

We will:
	•	Accept a JSON with selectedCol1 and selectedCol2 via @RequestBody
	•	Modify ReconciliationService to use these dynamically

⸻

ReconciliationController.java

Update your @PostMapping method:

@PostMapping("/reconcile")
public ReconciliationResult receiveColumnNames(@RequestBody Map<String, String> data) {
    String col1 = data.get("selectedCol1");
    String col2 = data.get("selectedCol2");

    String algoPath = "C:\\Users\\h59275\\Downloads\\algo.csv";
    String starPath = "C:\\Users\\h59275\\Downloads\\star.csv";

    return service.reconcile(algoPath, starPath, col1, col2);
}



⸻

ReconciliationService.java

Change your method signature:

public ReconciliationResult reconcile(String algoPath, String starPath, String col1, String col2) {

Then replace these lines:

String key = record.get("Agreement_name")

with:

String key = record.get(col1)

And:

String key = record.get("CRDS Party Code").replaceAll("\\s", "") + 
             record.get("Post Direction").replaceAll("\\s", "");

with:

String key = record.get(col2).replaceAll("\\s", "");

Note: You’ll need to remove the Post Direction logic if it’s not being passed from frontend. If still needed, you can also send selectedCol3 from frontend and retrieve it similarly.

⸻

Summary

You’re replacing hardcoded column names (Agreement_name, CRDS Party Code) with dynamic values (selectedCol1, selectedCol2) coming from the frontend. You modified the backend controller to receive these and the service layer to use them while reading the CSV files.

Do you want me to provide the full updated ReconciliationService.java with these changes applied?